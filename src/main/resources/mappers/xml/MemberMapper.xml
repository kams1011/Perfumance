<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Kams.Perfumance.mapper.MemberMapper">

    <select id="getList" resultType="Kams.Perfumance.vo.MemberVo">
        SELECT * FROM user_info
    </select>

    <insert id="InsertUser" useGeneratedKeys="true" keyProperty="uno">
        INSERT INTO user_info(id,pwd,nick,email,regdt)
        VALUE (#{id},#{pwd},#{nick},#{email},#{regdt})
    </insert>

    <select id="findByUserId" resultType="Kams.Perfumance.vo.MemberVo">
        SELECT * FROM user_info WHERE id=#{id}
    </select>

    <insert id="userRoleSave">
        INSERT INTO user_role
        (uno,rno)
        VALUES
        (#{uno},#{rno})
    </insert>


    <select id="findUserNo" resultType="Integer">
        SELECT
            uno
        FROM user_info
        WHERE id = #{id}
    </select>

    <select id="findRoleNo" resultType="int">
        SELECT
            rno
        FROM user_role
        WHERE role = #{role}
    </select>




</mapper>